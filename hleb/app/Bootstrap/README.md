# Директория `app/Bootstrap`

Директория `app/Bootstrap/` в Hleb-приложении предназначена для классов и скриптов, которые отвечают за начальную загрузку ("бу트스트래핑") и инициализацию ключевых компонентов вашего приложения и самого фреймворка.

## Основное назначение

Код в этой директории выполняется на ранних стадиях жизненного цикла приложения, подготавливая все необходимое для обработки входящего запроса или выполнения консольной команды. Это включает настройку сервисов, регистрацию обработчиков событий и другие задачи инициализации.

## Содержимое и его роль

### Файлы:

*   **`BaseContainer.php`**:
    *   **Назначение:** Вероятно, базовый класс или конфигурация для основного контейнера внедрения зависимостей (Dependency Injection Container) приложения. Контейнер DI управляет созданием и предоставлением объектов (сервисов) по всему приложению.
    *   **Для бота:** Настройки здесь могут влиять на то, как будут доступны сервисы, используемые вашим ботом (например, сервисы для работы с товарами, корзиной, заказами).

*   **`ContainerFactory.php`**:
    *   **Назначение:** Класс-фабрика, ответственный за создание и конфигурацию экземпляра контейнера DI.
    *   **Для бота:** Аналогично `BaseContainer.php`, влияет на доступность сервисов.

*   **`ContainerInterface.php`**:
    *   **Назначение:** PHP-интерфейс, определяющий контракт для контейнера DI, которому должны соответствовать его реализации.
    *   **Для бота:** Обеспечивает стандартный способ взаимодействия с контейнером DI.

### Поддиректории:

*   **`Events/`**:
    *   **Назначение:** Содержит классы, связанные с системой событий Hleb. Эти классы могут определять сами события или их обработчики (listeners/subscribers), которые реагируют на различные события в жизненном цикле приложения (например, перед выполнением контроллера, после отправки ответа).
    *   **Для бота:** Можно использовать для логирования, модификации запросов/ответов на определенных этапах или для запуска специфических действий при определенных событиях, которые могут быть релевантны для бота. (См. `app/Bootstrap/Events/README.md`).

*   **`Http/`**:
    *   **Назначение:** Может содержать классы, связанные с HTTP-слоем на этапе начальной загрузки, например, для кастомной обработки ошибок или модификации HTTP-заголовков до основной обработки запроса.
    *   `ErrorContent.php`: Вероятно, класс для формирования контента страниц ошибок (например, 404, 500) на ранней стадии.
    *   **Для бота:** Напрямую обычно не затрагивается при разработке логики бота, но обеспечивает корректную обработку HTTP-запросов, включая запросы к вебхукам и API Mini App. (См. `app/Bootstrap/Http/README.md`).

*   **`Services/`**:
    *   **Назначение:** Может содержать определения или инициализацию базовых сервисов, доступных в приложении через контейнер DI.
    *   `RequestIdInterface.php`, `RequestIdService.php`: Примеры сервиса для генерации и управления уникальным идентификатором запроса, полезным для логирования и трассировки.
    *   **Для бота:** Сюда можно добавить регистрацию или начальную конфигурацию каких-либо глобальных сервисов, которые будут использоваться ботом, хотя чаще сервисы магазина будут определяться в рамках модуля `app/Shop/`. (См. `app/Bootstrap/Services/README.md`).

## Влияние на разработку Telegram-бота

Хотя вы, возможно, не будете часто напрямую изменять файлы в `app/Bootstrap/` при написании основной логики вашего Telegram-бота, понимание назначения этой директории полезно. Она закладывает основу для работы всего приложения, включая компоненты вашего интернет-магазина. Если потребуется зарегистрировать какой-либо сервис на глобальном уровне или отреагировать на системные события, эта директория может быть задействована.
